(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{646:function(s,t,a){"use strict";a.r(t);var i=a(14),n=Object(i.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"csapp阅读"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csapp阅读"}},[s._v("#")]),s._v(" CSAPP阅读")]),s._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://wdxtub.com/csapp/thin-csapp-0/2016/04/16/",target:"_blank",rel:"noopener noreferrer"}},[s._v("读薄csapp博客"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://hansimov.gitbook.io/csapp/",target:"_blank",rel:"noopener noreferrer"}},[s._v("csapp gitbook电子书"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/wangmu89/Book-CSAPP/blob/master/_Attachments/Computer_Systems_A_Programmers_Perspective(3rd).pdf",target:"_blank",rel:"noopener noreferrer"}},[s._v("csapp 英文原版pdf"),a("OutboundLink")],1),s._v(" "),a("a",{attrs:{href:"https://github.com/imarvinle/awesome-cs-books#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F",target:"_blank",rel:"noopener noreferrer"}},[s._v("编程书籍汇总"),a("OutboundLink")],1)]),s._v(" "),a("h2",{attrs:{id:"学习检查点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习检查点"}},[s._v("#")]),s._v(" 学习检查点")]),s._v(" "),a("blockquote",[a("p",[s._v("本环节可以理解成大学学习中的作业， 目的是为了让学习真正产生效果。 作业会从讨论和博客，实验两个角度入手， 考察理解和实践的能力。 每个项目的checkList由大家补充投票定义， 靠自觉完成。")])]),s._v(" "),a("p",[s._v("书本阅读讨论和博客，大概每周/双周一篇\nTODO")]),s._v(" "),a("p",[s._v("实验\nTODO")]),s._v(" "),a("h2",{attrs:{id:"个人笔记"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#个人笔记"}},[s._v("#")]),s._v(" 个人笔记")]),s._v(" "),a("blockquote",[a("p",[s._v("说明:本文就是阅读"),a("a",{attrs:{href:"https://wdxtub.com/csapp/thin-csapp-1/2016/04/16/",target:"_blank",rel:"noopener noreferrer"}},[s._v("《读薄csapp》"),a("OutboundLink")],1),s._v("系列博客的再抽象、理解记录。适合")])]),s._v(" "),a("h3",{attrs:{id:"第一章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第一章"}},[s._v("#")]),s._v(" 第一章")]),s._v(" "),a("h4",{attrs:{id:"学习目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习目标"}},[s._v("#")]),s._v(" 学习目标")]),s._v(" "),a("ol",[a("li",[s._v("理解计算机系统的复杂与和理论抽象描述的不同")]),s._v(" "),a("li",[s._v("理解内存中数据的保存形式，以及这种方式的好处以及限制")]),s._v(" "),a("li",[s._v("注意避开一些常见的关于计算机的迷思")]),s._v(" "),a("li",[s._v("区别整型和浮点数的表达机制，并理解为什么会有这种差异")]),s._v(" "),a("li",[s._v("简单理解溢出出现的条件")])]),s._v(" "),a("p",[a("strong",[s._v("计算机不只是执行程序的机器")])]),s._v(" "),a("blockquote",[a("p",[s._v("现代计算机的冯诺依曼的结构")])]),s._v(" "),a("p",[a("strong",[s._v("很多东西不像看起来那么简单")])]),s._v(" "),a("blockquote",[a("ol",[a("li",[s._v("时空复杂度， 在多线程甚至分布式并行计算的条件下， 需要特别考虑，比如是否能拆分并行运算， 是否会线程安全。")]),s._v(" "),a("li",[s._v("计算机的数学运算存在溢出和精度问题")]),s._v(" "),a("li",[s._v("很多算法，思想的设计， 往往都很难最优， 而是在限制下比较好的一种"),a("strong",[s._v("权衡")]),s._v("，比如时间换空间，锁机制。")])])]),s._v(" "),a("p",[a("strong",[s._v("内存里多的是我们不知道的事")])]),s._v(" "),a("blockquote",[a("ol",[a("li",[s._v("内存问题在实践中特别容易发生，排查起来也非常困难（典型的是内存泄漏、野指针、悬垂指针，多线程问题）")])])]),s._v(" "),a("h4",{attrs:{id:"比特心生"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#比特心生"}},[s._v("#")]),s._v(" 比特心生")]),s._v(" "),a("p",[s._v("计算机的任何指令、数据都是二进制表示的。而现实生活中的数字往往是10进制表示的。而为了让2进制读起来更快、写起来更少、记起来也不会太多， 2进制4位为一组，生成了16进制。\n也就是说我们需要背一下16进制。但实际上，16进制基本上和10进制类似， 所以2进制到16进制的转换一般经过10进制。\n比如1-9 -> 1-9, 10-15 -> A-F")]),s._v(" "),a("p",[s._v("而二进制的4位， 为了更好算有一点， 我们拆成2组，前2位一组，后2位1组。\n比如"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mn",[s._v("1011")]),a("mo",[s._v("=")]),a("mn",[s._v("10")]),a("mo",[s._v("<")]),a("mo",[s._v("<")]),a("mn",[s._v("2")]),a("mo",[s._v("+")]),a("mn",[s._v("11")]),a("mo",[s._v("=")]),a("mn",[s._v("10")]),a("mo",[s._v("∗")]),a("mn",[s._v("2")]),a("mo",[s._v("+")]),a("mn",[s._v("1")]),a("mo",[s._v("=")]),a("mn",[s._v("4")]),a("mo",[s._v("∗")]),a("mn",[s._v("2")]),a("mo",[s._v("+")]),a("mn",[s._v("3")]),a("mo",[s._v("=")]),a("mn",[s._v("8")]),a("mo",[s._v("+")]),a("mn",[s._v("3")]),a("mo",[s._v("=")]),a("mn",[s._v("11")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("1011=10<<2+11=10*2+1=4*2+3=8+3=11")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("1011")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.68354em","vertical-align":"-0.0391em"}}),a("span",{staticClass:"mord"},[s._v("10")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("<<")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("+")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("11")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("10")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("∗")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("+")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("4")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("∗")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("+")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("3")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("8")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("+")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("3")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("11")])])])])]),s._v(" "),a("p",[s._v("这样拆分的好处就是，我们只需要背下2位二进制的映射就行了。也就是")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("2机制b")]),s._v(" "),a("th",[s._v("10进制d")]),s._v(" "),a("th",[s._v("16进制h")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("1001")]),s._v(" "),a("td",[s._v("2*4+1")]),s._v(" "),a("td",[s._v("9")])]),s._v(" "),a("tr",[a("td",[s._v("1010")]),s._v(" "),a("td",[s._v("2*4+2")]),s._v(" "),a("td",[s._v("A")])]),s._v(" "),a("tr",[a("td",[s._v("1011")]),s._v(" "),a("td",[s._v("2*4+3")]),s._v(" "),a("td",[s._v("B")])]),s._v(" "),a("tr",[a("td",[s._v("1100")]),s._v(" "),a("td",[s._v("3*4+0")]),s._v(" "),a("td",[s._v("C")])]),s._v(" "),a("tr",[a("td",[s._v("1101")]),s._v(" "),a("td",[s._v("3*4+1")]),s._v(" "),a("td",[s._v("D")])]),s._v(" "),a("tr",[a("td",[s._v("1110")]),s._v(" "),a("td",[s._v("3*4+2")]),s._v(" "),a("td",[s._v("E")])]),s._v(" "),a("tr",[a("td",[s._v("1111")]),s._v(" "),a("td",[s._v("15")]),s._v(" "),a("td",[s._v("F")])])])]),s._v(" "),a("p",[s._v("而对于10进制与16进制的转换，我们只要管A-F 与 10-15的转换。好在我们从小写选择题以及让我们建立了A-E -> 1-5 -> 1+9-4+9 -> 10-14的映射。 最后剩下个F，就是1111就是15啊，多好记。（/wink)")]),s._v(" "),a("h4",{attrs:{id:"整数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#整数"}},[s._v("#")]),s._v(" 整数")]),s._v(" "),a("p",[a("strong",[s._v("整型表示的特点")])]),s._v(" "),a("p",[s._v("我们知道对于计算机里的二进制，有符号数和无符号数改变的只是该部分内存的类型，而不改变吗值本身。")]),s._v(" "),a("p",[s._v("所以为了让相同位数w的无符号（"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mn",[s._v("0")]),a("mo",[s._v("→")]),a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("w")])],1),a("mo",[s._v("−")]),a("mn",[s._v("1")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("0\\to2^w-1)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("0")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("→")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.747722em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("和有符号数能够比较容易地对应上，\n我们直接让一半数"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mn",[s._v("0")]),a("mo",[s._v("→")]),a("msup",[a("mn",[s._v("2")]),a("mrow",[a("mi",[s._v("w")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("0 \\to 2^{w-1}-1")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("0")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("→")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.897438em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("1")])])])]),s._v("的解释不变，\n剩下的一半数"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msup",[a("mn",[s._v("2")]),a("mrow",[a("mi",[s._v("w")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",[s._v("→")]),a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("w")])],1),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("2^{w-1}\\to2^w-1")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8141079999999999em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("→")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.747722em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("1")])])])]),s._v("， 让他直接往回调一圈(即"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mo",[s._v("−")]),a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("w")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("-2^w")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.747722em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])])])])])])])])]),s._v(")，变成"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mo",[s._v("−")]),a("msup",[a("mn",[s._v("2")]),a("mrow",[a("mi",[s._v("w")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",[s._v("→")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("-2^{w-1}\\to-1")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.897438em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("→")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[s._v("1")])])])])]),s._v(" "),a("p",[s._v("这样做的好处有")]),s._v(" "),a("ol",[a("li",[s._v("小的数在有符号和无符号的数在"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mn",[s._v("0")]),a("mo",[s._v("→")]),a("msup",[a("mn",[s._v("2")]),a("mrow",[a("mi",[s._v("w")]),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1)],1),a("mo",[s._v("−")]),a("mn",[s._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("0 \\to 2^{w-1}-1")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("0")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("→")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.897438em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8141079999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")]),a("span",{staticClass:"mbin mtight"},[s._v("−")]),a("span",{staticClass:"mord mtight"},[s._v("1")])])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("−")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.64444em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("1")])])])]),s._v("上完全一致")]),s._v(" "),a("li",[s._v("无符号数越小，对应的有符号数的负数也越小。")]),s._v(" "),a("li",[s._v("有符号数的负数"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("x")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v("%")]),a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("w")])],1),a("mo",[s._v("=")]),a("mo",[s._v("=")]),a("mi",[s._v("x")]),a("mo",[s._v("+")]),a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("w")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("x\\%2^{w} == x+2^{w}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.80556em","vertical-align":"-0.05556em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("x")]),a("span",{staticClass:"mord"},[s._v("%")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])])])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("==")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.66666em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("x")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("+")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.664392em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.02691em"}},[s._v("w")])])])])])])])])])])])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://wdxtub.com/images/csapp/14609257940557.jpg",alt:""}})]),s._v(" "),a("p",[a("strong",[s._v("C语言中signed和unsigned的比较")])]),s._v(" "),a("p",[s._v("2个原则")]),s._v(" "),a("ol",[a("li",[s._v("C语言中常量默认是有符号数, 除非显式加上"),a("code",[s._v("U")]),s._v("后缀")]),s._v(" "),a("li",[s._v("有符号和无符号数做运算时，会都当做无符号数做比较比如"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mo",[s._v("−")]),a("mn",[s._v("1")]),a("mo",[s._v("<")]),a("mn",[s._v("0")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mo",[s._v("−")]),a("mn",[s._v("1")]),a("mo",[s._v(">")]),a("mn",[s._v("0")]),a("mi",[s._v("U")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("-1<0, -1>0U")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("<")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8388800000000001em","vertical-align":"-0.19444em"}}),a("span",{staticClass:"mord"},[s._v("0")]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v(">")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.68333em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[s._v("0")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[s._v("U")])])])])])]),s._v(" "),a("p",[a("strong",[s._v("截取和拓展")])]),s._v(" "),a("p",[s._v("位多的数往位低的数转换时，需要截取保留低位， 相反需要拓展高位。\n截取和拓展其实从十进制看来是很直觉的，即向下兼容。")]),s._v(" "),a("ul",[a("li",[s._v("对于拓展，其实就是10进制保持不变（也即正数给补0， 负数给补1)")]),s._v(" "),a("li",[s._v("对于截取，不区分正负数直接截取l(比如下面代码的结果)")])]),s._v(" "),a("div",{staticClass:"language-c++ line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('#include <cstdio>\nint main() {\n    int a = 0x7fffffff;\n    short b = (short)a;\n    int c = 0xffffffff;\n    short d = (short)c;\n    int e = 0xffff7fff;\n    short f = (short)e;\n    printf("%d->%d, %d->%d, %d->%d", a,b,c,d,e,f);\n    return 0;\n}\n//2147483647->-1, -1->-1, -32769->32767\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h4",{attrs:{id:"浮点数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浮点数"}},[s._v("#")]),s._v(" 浮点数")]),s._v(" "),a("p",[s._v("浮点数这个名字起得很不错，其实就是在整数的"),a("u",[a("strong",[s._v("位中间加了个点")])]),s._v("。\n点左边的叫整数部分，右边的叫小数部分。\n也可以看成是一个整数，除上了"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("t")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("t")]),a("mtext",[s._v("是小数的位数")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("2^{t} (t是小数的位数)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1.043556em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.7935559999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("t")])])])])])])])])]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal"},[s._v("t")]),a("span",{staticClass:"mord cjk_fallback"},[s._v("是小数的位数")]),a("span",{staticClass:"mclose"},[s._v(")")])])])])]),s._v(" "),a("p",[a("strong",[s._v("IEEE 浮点数标准")]),s._v(" "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("mi",[s._v("v")]),a("mi",[s._v("a")]),a("mi",[s._v("l")]),a("mi",[s._v("u")]),a("mi",[s._v("e")]),a("mo",[s._v("=")]),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mo",[s._v("−")]),a("mn",[s._v("1")]),a("msup",[a("mo",{attrs:{stretchy:"false"}},[s._v(")")]),a("mi",[s._v("s")])],1),a("mi",[s._v("M")]),a("msup",[a("mn",[s._v("2")]),a("mi",[s._v("E")])],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("value=(-1)^{s}M2^{E}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.69444em","vertical-align":"0em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.03588em"}},[s._v("v")]),a("span",{staticClass:"mord mathnormal"},[s._v("a")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.01968em"}},[s._v("l")]),a("span",{staticClass:"mord mathnormal"},[s._v("u")]),a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1.0913309999999998em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord"},[s._v("−")]),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mclose"},[a("span",{staticClass:"mclose"},[s._v(")")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.664392em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight"},[s._v("s")])])])])])])])])]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[s._v("M")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8413309999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")])])])])])])])])])])])]),s._v(" "),a("img",{attrs:{src:"https://wdxtub.com/images/csapp/14609515849125.jpg",alt:""}}),s._v(" "),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msub",[a("mi",[s._v("E")]),a("mn",[s._v("10")])],1),a("mo",[s._v("=")]),a("mi",[s._v("e")]),a("mi",[s._v("x")]),a("msub",[a("mi",[s._v("p")]),a("mn",[s._v("2")])],1),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mi",[s._v("M")]),a("mo",[s._v("=")]),a("mn",[s._v("1")]),a("mo",[s._v("+")]),a("mi",[s._v("f")]),a("mi",[s._v("r")]),a("mi",[s._v("a")]),a("msub",[a("mi",[s._v("c")]),a("mn",[s._v("2")])],1),a("mo",{attrs:{stretchy:"false"}},[s._v("(")]),a("mi",[s._v("f")]),a("mi",[s._v("r")]),a("mi",[s._v("a")]),a("mi",[s._v("c")]),a("mtext",[s._v("表示的小数是")]),a("mn",[s._v("0.")]),a("mi",[s._v("x")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v(".")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v(".")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v(".")]),a("mi",{attrs:{mathvariant:"normal"}},[s._v(".")]),a("mo",{attrs:{separator:"true"}},[s._v(",")]),a("mi",[s._v("x")]),a("mo",[s._v("≠")]),a("mn",[s._v("0")]),a("mo",{attrs:{stretchy:"false"}},[s._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("E_{10}=exp_{2}, M=1+frac_2(frac表示的小数是0.x...., x\\not ={0})")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.83333em","vertical-align":"-0.15em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.05764em"}},[s._v("E")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"-0.05764em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("10")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8777699999999999em","vertical-align":"-0.19444em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("e")]),a("span",{staticClass:"mord mathnormal"},[s._v("x")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("p")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("2")])])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10903em"}},[s._v("M")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.72777em","vertical-align":"-0.08333em"}}),a("span",{staticClass:"mord"},[s._v("1")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}}),a("span",{staticClass:"mbin"},[s._v("+")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2222222222222222em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),a("span",{staticClass:"mord mathnormal"},[s._v("a")]),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord mathnormal"},[s._v("c")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t vlist-t2"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.30110799999999993em"}},[a("span",{staticStyle:{top:"-2.5500000000000003em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[s._v("2")])])])]),a("span",{staticClass:"vlist-s"},[s._v("​")])]),a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.15em"}},[a("span")])])])])]),a("span",{staticClass:"mopen"},[s._v("(")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")]),a("span",{staticClass:"mord mathnormal",staticStyle:{"margin-right":"0.02778em"}},[s._v("r")]),a("span",{staticClass:"mord mathnormal"},[s._v("a")]),a("span",{staticClass:"mord mathnormal"},[s._v("c")]),a("span",{staticClass:"mord cjk_fallback"},[s._v("表示的小数是")]),a("span",{staticClass:"mord"},[s._v("0.")]),a("span",{staticClass:"mord mathnormal"},[s._v("x")]),a("span",{staticClass:"mord"},[s._v("....")]),a("span",{staticClass:"mpunct"},[s._v(",")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.16666666666666666em"}}),a("span",{staticClass:"mord mathnormal"},[s._v("x")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}}),a("span",{staticClass:"mrel"},[a("span",{staticClass:"mord vbox"},[a("span",{staticClass:"thinbox"},[a("span",{staticClass:"rlap"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),a("span",{staticClass:"inner"},[a("span",{staticClass:"mord"},[a("span",{staticClass:"mrel"},[s._v("")])])]),a("span",{staticClass:"fix"})])])])])]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.36687em","vertical-align":"0em"}}),a("span",{staticClass:"mrel"},[s._v("=")]),a("span",{staticClass:"mspace",staticStyle:{"margin-right":"0.2777777777777778em"}})]),a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("0")])]),a("span",{staticClass:"mclose"},[s._v(")")])])])]),s._v("\n其中exp是一个有符号数E的移码。")]),s._v(" "),a("p",[a("strong",[s._v("浮点数的无穷和0")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("浮点数的范围\n浮点数其实就是二进制的科学计数法。 浮点数的标识范围取决于指数的位数， 可以通过改变指数的大小， 来调整数值部分浮点的位置。那当一个运算，指数部分超过了指数的表示范围。则为无穷（全1）或0（全0）。也就是绝对值太大和绝对值太小的数，无法表示了。 这是浮点数的范围")])]),s._v(" "),a("li",[a("p",[s._v("浮点数的精度\n浮点数的精度取决于数值部分的位数。假设有f位， 那么比"),a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",{attrs:{xmlns:"http://www.w3.org/1998/Math/MathML"}},[a("semantics",[a("mrow",[a("msup",[a("mn",[s._v("2")]),a("mrow",[a("mo",[s._v("−")]),a("mi",[s._v("f")])],1)],1)],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[s._v("2^{-f}")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"base"},[a("span",{staticClass:"strut",staticStyle:{height:"0.8491079999999999em","vertical-align":"0em"}}),a("span",{staticClass:"mord"},[a("span",{staticClass:"mord"},[s._v("2")]),a("span",{staticClass:"msupsub"},[a("span",{staticClass:"vlist-t"},[a("span",{staticClass:"vlist-r"},[a("span",{staticClass:"vlist",staticStyle:{height:"0.8491079999999999em"}},[a("span",{staticStyle:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{staticClass:"pstrut",staticStyle:{height:"2.7em"}}),a("span",{staticClass:"sizing reset-size6 size3 mtight"},[a("span",{staticClass:"mord mtight"},[a("span",{staticClass:"mord mtight"},[s._v("−")]),a("span",{staticClass:"mord mathnormal mtight",staticStyle:{"margin-right":"0.10764em"}},[s._v("f")])])])])])])])])])])])]),s._v("还小的数将无法表示。 并且由于指数和浮点的位置可以相互影响。我们往往会尽量地把整数部分左移（同时减少指数）来保证更高的精度（这也是IEEE的标准）")])])]),s._v(" "),a("p",[a("strong",[s._v("舍入")]),s._v("\n左移溢出， 右移舍入。")]),s._v(" "),a("p",[a("strong",[s._v("浮点数加法")])]),s._v(" "),a("p",[a("strong",[s._v("浮点数乘法")])]),s._v(" "),a("h4",{attrs:{id:"数据在内存中的形式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据在内存中的形式"}},[s._v("#")]),s._v(" 数据在内存中的形式")]),s._v(" "),a("p",[s._v("关于大端和小端如何记忆")]),s._v(" "),a("ol",[a("li",[s._v("关于为什么要有小端，如果熟悉两个二进制按照位 进行加减乘除的同学（cpu的整数加法实现或者c实现大数运算）知道，计算机都是从一个数的低位开始运算，并不断传递进位的。那么小端其实就是这样设计的。这也就是为什么， 常见的x86和arm处理器都采用小端规则。\n"),a("blockquote",[a("p",[s._v("我们假设一个8个字节的整数， 32位的计算机， 每次只能取4个字节的数据，为了完成两个8字节整数的运算，我们需要先取两个数第4个字节进行运算。结果存入结果内存的低四个字节，进位参与高4个字节的运算，结果存入高四个字节。这是一个比较直觉的设计。\n"),a("strong",[s._v("另外小端也只是字节之间是从低到高")]),s._v("。 字节内部其实还是从高位往低位的。 因此每个字节内部也是方便书写和阅读的。")])])])]),s._v(" "),a("div",{staticClass:"language-c++ line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('int main(){\n    int x = 0x00007fab;\n    unsigned char *point = (unsigned char *)&x;\n    size_t len = sizeof(int)/sizeof(char);\n    for (size_t i=0;i<len;i++) {\n        printf("%p\\t0x%.2x\\n", point+i, *(point+i));\n    }\n    return 0;\n}\n// 0x7ffeea51c370  0xab\n// 0x7ffeea51c371  0x7f\n// 0x7ffeea51c372  0x00\n// 0x7ffeea51c373  0x00\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("大端其实就是便于书写和阅读。")])]),s._v(" "),a("h3",{attrs:{id:"第二章-机器指令和程序"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-机器指令和程序"}},[s._v("#")]),s._v(" 第二章：机器指令和程序")]),s._v(" "),a("h4",{attrs:{id:"学习目标-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习目标-2"}},[s._v("#")]),s._v(" 学习目标")]),s._v(" "),a("ol",[a("li",[s._v("了解基本的 CPU 架构，以及 CPU 如何进行指令计算")]),s._v(" "),a("li",[s._v("掌握基本的汇编语法，常见的寻址方式和运算方式")]),s._v(" "),a("li",[s._v("理解如何通过条件代码进行流程控制")]),s._v(" "),a("li",[s._v("理解过程调用和递归的底层实现机制")]),s._v(" "),a("li",[s._v("理解数据在内存中的存储方式")]),s._v(" "),a("li",[s._v("了解程序在内存中的组织形式以及缓冲区溢出漏洞攻击")]),s._v(" "),a("li",[s._v("利用代码执行的机制来优化已有代码")])]),s._v(" "),a("p",[s._v("addtion: 动态调试和逆向实践")]),s._v(" "),a("h4",{attrs:{id:"基础知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[s._v("#")]),s._v(" 基础知识")]),s._v(" "),a("p",[a("strong",[s._v("从C到机器代码")])]),s._v(" "),a("ol",[a("li",[s._v("汇编代码是机器指令的翻译，是可读形式。因此从汇编入手我们可以更好地指导机器时如何运作的。")]),s._v(" "),a("li",[s._v("C语言代码经过编译，汇编，静态链接变成真正的可执行程序")]),s._v(" "),a("li",[s._v("汇编代码一般由操作符+1~3个逗号隔开的操作数组成。")]),s._v(" "),a("li",[s._v("处理器能够执行的操作十分有限，简单来说只有三种：存取数据、计算和传输控制\n"),a("ol",[a("li",[s._v("事实上处理器由运算器（LRU）、控制器、以及缓存组成。自然对应着上述的三个功能。当然对于处理器来说，存取数据是指向内存存取数据。但是对于汇编代码会涉及到向某个寄存器存储数据")]),s._v(" "),a("li")])])]),s._v(" "),a("p",[s._v("x86-64的几个通用寄存器的名字解释,其中r是64位的寄存器，e是32位的寄存器。 r->egister,p->point")]),s._v(" "),a("ul",[a("li",[s._v("%rax(%eax) 用于做累加 a->acc，")]),s._v(" "),a("li",[s._v("%rcx(%ecx) 用于计数 c->count")]),s._v(" "),a("li",[s._v("%rdx(%edx) 用于保存数据 d指的是？？")]),s._v(" "),a("li",[s._v("%rbx(%ebx) 用于做内存查找的基础地址 b->base指的是内存查找的基地址")]),s._v(" "),a("li",[s._v("%rsi(%esi) 用于保存源索引值 si -> source index")]),s._v(" "),a("li",[s._v("%rdi(%edi) 用于保存目标索引值 di -> destination index")]),s._v(" "),a("li",[s._v("%rsp(%esp) 栈指针 sp -> stack point")]),s._v(" "),a("li",[s._v("%rbp(%ebp) 基指针（与rbx不同的是rbp一般用于指令寻址？？）bp -> base point")])]),s._v(" "),a("p",[s._v("操作数分为3种基本类型")]),s._v(" "),a("ol",[a("li",[s._v("Imm $0x5")]),s._v(" "),a("li",[s._v("Reg %rax")]),s._v(" "),a("li",[s._v("Mem (%rdx)  ()表示访存，即M[%rdx]， 内存中%rdx指向地址的内容。")])]),s._v(" "),a("blockquote",[a("p",[s._v("这里有一点需要注意， 计算机看到%rax这样的寄存器的时候，事实上就是%rax里面的地址（也就是寄存器存的值），而非寄存器的地址。\n而在内存中，0x00001abc这样的内存地址则是地址本身。\n举个例子， 比如%rdx存放着0x00001abc，0x00001abc存放着0x1ABC的数据\n那%rdx == 0x00001abc, (%rdx) == (0x00001abc) == (0x1ABC)")])]),s._v(" "),a("p",[s._v("寻址的通用表达式（可以缺省）"),a("code",[s._v("D(Rb, Ri, S) -> Mem[Reg[Rb]+S*Reg[Ri]+D]")]),s._v("， 最基本的的就是(Rb)只有寄存器的地址值。")]),s._v(" "),a("p",[s._v("了解了寻址之后，我们来看看运算指令，这里以 leaq 指令为例子。具体格式为 leaq Src, Dst，其中 Src 是地址的表达式，然后把计算的值存入 Dst 指定的寄存器，也就是说，无须内存引用就可以计算，类似于 p = &x[i];。我们来看一个具体的例子，假设一个 C 函数是：")]),s._v(" "),a("p",[s._v("long m12(long x)\n{\nreturn x * 12;\n}\n对应的汇编代码为：")]),s._v(" "),a("p",[s._v("leaq (%rdi, %rdi, 2), %rax # t <- x+x*2\nsalq $2, %rax              # return t << 2\n可以看到是直接对 %rdi 寄存器中存的数据（地址）进行运算，然后赋值给 %rax。最后给出一些常见的算术运算指令，注意参数的顺序，而且对于有符号和无符号数都是一样的，")]),s._v(" "),a("blockquote",[a("p",[s._v("这里其实做了一个化简操作 x"),a("em",[s._v("12 -> (x+x")]),s._v("2)"),a("em",[s._v("4 -> 是把x放到了%rdi中， 然后 (%rdi, %rdi, 2) 就被翻译成 x+2")]),s._v("x")])]),s._v(" "),a("p",[s._v("下面的汇编指令可以参照着(汇编语言指令英文全称对照表)[https://www.bilibili.com/read/cv6166473]进行阅读")])])}),[],!1,null,null,null);t.default=n.exports}}]);